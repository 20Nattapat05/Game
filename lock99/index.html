<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>üîê Lock 99</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
    background: radial-gradient(circle at top, #1b2735, #090a0f);
    min-height:100vh;
}
.game-card{
    border-radius:20px;
    background:rgba(255,255,255,.1);
    backdrop-filter: blur(8px);
}
.badge-round{
    background:#ffc107;
    color:#000;
}
.history span{
    margin:3px;
}
.result-up{
    color:#00ffb3;
    text-shadow:0 0 10px #00ffb3;
    font-weight:bold;
}
.result-down{
    color:#ff5c5c;
    text-shadow:0 0 10px #ff5c5c;
    font-weight:bold;
}
.result-win{
    color:#ffe066;
    text-shadow:0 0 15px #ffe066;
    font-weight:bold;
}
.result-lose{
    color:#ff2e2e;
    text-shadow:0 0 15px #ff2e2e;
    font-weight:bold;
}

/* ‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ */
.his-up{
    background:#00ffb3 !important;
    color:#000;
    box-shadow:0 0 10px #00ffb3;
}
.his-down{
    background:#ff5c5c !important;
    color:#000;
    box-shadow:0 0 10px #ff5c5c;
}
.his-win{
    background:#ffe066 !important;
    color:#000;
    box-shadow:0 0 12px #ffe066;
}
</style>
</head>

<body class="text-white">

<div class="container d-flex justify-content-center align-items-center" style="min-height:100vh;">
<div class="col-md-5">

<div class="card game-card p-4 shadow-lg text-center">
    <h1 class="mb-3">üîê Lock 99</h1>
    <p class="text-warning">‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏•‡∏±‡∏ö 00‚Äì99 ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 5 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</p>

    <input type="number" id="guess" class="form-control form-control-lg text-center mb-3" placeholder="00 - 99" min="0" max="99">

    <button onclick="checkGuess()" class="btn btn-warning btn-lg w-100">‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç</button>

    <div class="mt-3">
        <h5 id="result"></h5>
        <span class="badge badge-round">‡πÄ‡∏´‡∏•‡∏∑‡∏≠ <span id="chance">5</span> ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</span>
    </div>

    <hr class="text-white">

    <h6 class="text-light">üìú ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏¢</h6>
    <div id="history" class="history"></div>

    <button onclick="resetGame()" class="btn btn-outline-light mt-3 w-100">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
</div>

</div>
</div>

<script>
let answer = Math.floor(Math.random() * 100);
let chances = 5;
let history = [];

function checkGuess(){
    let input = document.getElementById("guess");
    let guess = parseInt(input.value);
    let result = document.getElementById("result");

    if(isNaN(guess) || guess<0 || guess>99){
        result.innerHTML="‚ùó ‡πÉ‡∏™‡πà‡πÄ‡∏•‡∏Ç 0‚Äì99 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô";
        result.className="";
        return;
    }

    if(chances<=0) return;

    chances--;
    document.getElementById("chance").innerText = chances;

    let status="";
    if(guess === answer){
        status="win";
    }
    else if(guess > answer){
        status="down";
    }
    else{
        status="up";
    }

    history.push({number: guess, status: status});
    renderHistory();

    if(guess === answer){
        result.innerHTML = "üéâ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! ‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏ô‡∏∞!";
        result.className = "result-win";
        endGame();
    }
    else if(guess > answer){
        result.innerHTML = "üìâ ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ";
        result.className = "result-down";
    }
    else{
        result.innerHTML = "üìà ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ";
        result.className = "result-up";
    }

    if(chances === 0 && guess !== answer){
        result.innerHTML = "üíÄ ‡πÅ‡∏û‡πâ‡πÅ‡∏•‡πâ‡∏ß! ‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏∑‡∏≠ " + answer;
        result.className = "result-lose";
        endGame();
    }

    input.value="";
}

function renderHistory(){
    let html="";
    history.forEach((item,i)=>{
        let cls="";
        if(item.status=="up") cls="his-up";
        if(item.status=="down") cls="his-down";
        if(item.status=="win") cls="his-win";

        html += `<span class="badge ${cls}">${i+1}. ${item.number}</span>`;
    });
    document.getElementById("history").innerHTML = html;
}

function endGame(){
    document.getElementById("guess").disabled = true;
}

function resetGame(){
    answer = Math.floor(Math.random()*100);
    chances = 5;
    history = [];
    document.getElementById("chance").innerText = 5;
    document.getElementById("result").innerHTML="";
    document.getElementById("result").className="";
    document.getElementById("history").innerHTML="";
    document.getElementById("guess").value="";
    document.getElementById("guess").disabled=false;
}
</script>

</body>
</html>
